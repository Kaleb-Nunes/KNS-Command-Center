<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>KNS // COMMAND_NODE_NOC/SOC</title>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg: #020202; --panel: #0a0c0e; --cyan: #00E5FF;
            --green: #00FF00; --red: #FF0000; --border: rgba(0, 229, 255, 0.15);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background-color: var(--bg); color: var(--cyan); 
            font-family: 'Share Tech Mono', monospace; height: 100vh; overflow: hidden;
        }
        /* CRT Scanline Effect */
        body::before {
            content: " "; display: block; position: absolute; top: 0; left: 0; bottom: 0; right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), 
                        linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
            z-index: 9999; pointer-events: none; background-size: 100% 2px, 3px 100%;
        }
        .top-bar {
            height: 50px; background: #000; border-bottom: 1px solid var(--border);
            display: flex; justify-content: space-between; align-items: center; padding: 0 20px;
        }
        .brand { font-size: 20px; letter-spacing: 3px; font-weight: bold; }
        .grid-container {
            display: grid; grid-template-columns: 260px 1fr; grid-template-rows: 1fr 30px;
            height: calc(100vh - 50px); gap: 10px; padding: 10px;
        }
        .main-display {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
            grid-auto-rows: 240px; gap: 10px; overflow-y: auto;
        }
        .panel { background: var(--panel); border: 1px solid var(--border); position: relative; }
        .panel-header {
            background: rgba(0, 229, 255, 0.05); padding: 5px 10px; font-size: 10px;
            border-bottom: 1px solid var(--border); display: flex; justify-content: space-between;
        }
        iframe { width: 100%; height: 100%; border: none; filter: brightness(0.9) contrast(1.1); }
        .sidebar-stat { display: flex; flex-direction: column; gap: 10px; }
        .stat-box { border: 1px solid var(--border); padding: 15px; background: rgba(0,0,0,0.5); }
        .footer { grid-column: 1 / -1; display: flex; align-items: center; font-size: 10px; color: #444; border-top: 1px solid #111; }
        body.invasion-mode { --cyan: #FF0000; }
    </style>
</head>
<body>
    <div class="top-bar">
        <div class="brand">KNS_NODE // <span style="color:#fff; opacity:0.7;">V8.0_GLOBAL</span></div>
        <div id="clock" style="color: #fff; font-size: 14px;">00:00:00</div>
    </div>
    <div class="grid-container">
        <div class="sidebar-stat">
            <div class="stat-box"><div style="font-size:10px; color:#666;">NET_LOAD</div><div style="font-size:28px; color:#fff;" id="load">1.45</div></div>
            <div class="stat-box" style="border-color: var(--green);"><div style="font-size:10px; color:#666;">THREAT_LEVEL</div><div id="threat" style="color: var(--green); font-size: 18px;">SECURE</div></div>
            <div style="margin-top: auto; padding-bottom: 10px;">
                <p style="font-size: 9px; color: #333;">KALEB_NUNES // HEAD_OF_ENGINEERING</p>
                <p style="font-size: 8px; color: #222;">REMOTE_ACCESS: ENABLED</p>
            </div>
        </div>
        <div class="main-display" id="monitor-grid"></div>
        <div class="footer">
            <marquee scrollamount="3">SYSTEM_OK... TUNNEL_ACTIVE: noc.knsconsultoria.com.br... ZABBIX_API: 7.4.6... PROTOCOLO_09_ENGAGED...</marquee>
        </div>
    </div>
    <script>
        const GRAFANA_URL = 'https://noc.knsconsultoria.com.br'; 
        const DASHBOARD_UID = '41URQF7mz'; //
        const HOST_NAME = 'DESKTOP-ORNUQPS'; //

        const panelIds = ['panel-27', 'panel-3', 'panel-2', 'panel-84', 'panel-70', 'panel-10', 'panel-5', 'panel-9', 'panel-4'];

        const grid = document.getElementById('monitor-grid');
        panelIds.forEach((id, index) => {
            const panel = document.createElement('div');
            panel.className = 'panel';
            panel.innerHTML = `
                <div class="panel-header">NODE_0${index+1} <span>ID: ${id}</span></div>
                <iframe src="${GRAFANA_URL}/d-solo/${DASHBOARD_UID}/zabbix-full-server-status?orgId=1&from=now-5m&to=now&var-Host=${HOST_NAME}&refresh=5s&theme=dark&panelId=${id}"></iframe>
            `;
            grid.appendChild(panel);
        });

        setInterval(() => {
            document.getElementById('clock').innerText = new Date().toLocaleTimeString();
            document.getElementById('load').innerText = (1.4 + Math.random() * 0.1).toFixed(2);
        }, 1000);
    </script>
</body>
</html>